/*from tccdn minify at 2016-11-10 20:37:56,file：/cn/train/wxhotel/160428/common.js,file：/cn/train/wxhotel/common/underscore-min.js?v=2016062402*/
Zepto.cookie=function(t,x,u){if(typeof x!="undefined"){u=u||{};if(x===null){x="";u.expires=-1}var r="";if(u.expires&&(typeof u.expires=="number"||u.expires.toUTCString)){var p;if(typeof u.expires=="number"){p=new Date();p.setTime(p.getTime()+(u.expires*24*60*60*1000))}else{p=u.expires}r="; expires="+p.toUTCString()}var v=u.path?"; path="+u.path:"";var q=u.domain?"; domain="+u.domain:"";var w=u.secure?"; secure":"";document.cookie=[t,"=",encodeURIComponent(x),r,v,q,w].join("")}else{var o=null;if(document.cookie&&document.cookie!=""){var n=document.cookie.split(";");for(var s=0;s<n.length;s++){var i=Zepto.trim(n[s]);if(i.substring(0,t.length+1)==(t+"=")){o=decodeURIComponent(i.substring(t.length+1));break}}}return o}};$.fn.show=function(){this.each(function(a,b){b.style.display="block"});return this};function getsecCookie(f,g){var h=null;if($.cookie(f)){for(var i=$.cookie(f).split("&"),j=0;j<i.length;j++){i[j].indexOf(g)>-1&&(h=i[j].substring(g.length+1))}return h}}!function(){function h(b){return n.raw?b:encodeURIComponent(b)}function i(b){return n.raw?b:decodeURIComponent(b)}function j(a){return h(n.json?JSON.stringify(a):String(a))}function k(c){0===c.indexOf('"')&&(c=c.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return c=decodeURIComponent(c.replace(m," ")),n.json?JSON.parse(c):c}catch(d){}}function l(d,e){var f=n.raw?d:k(d);return $.isFunction(e)?e(f):f}var m=/\+/g,n=$.cookie=function(a,b,c){if(void 0!==b&&!$.isFunction(b)){if(c=$.extend({},n.defaults,c),"number"==typeof c.expires){var e=c.expires,g=c.expires=new Date;g.setTime(+g+86400000*e)}return document.cookie=[h(a),"=",j(b),c.expires?"; expires="+c.expires.toUTCString():"",c.path?"; path="+c.path:"",c.domain?"; domain="+c.domain:"",c.secure?"; secure":""].join("")}for(var r=a?void 0:{},s=document.cookie?document.cookie.split("; "):[],t=0,u=s.length;u>t;t++){var v=s[t].split("="),w=i(v.shift()),x=v.join("=");if(a&&a===w){r=l(x,b);break}a||void 0===(x=l(x))||(r[w]=x)}return r};n.defaults={},$.removeCookie=function(c,d){return void 0===$.cookie(c)?!1:($.cookie(c,"",$.extend({},d,{expires:-1})),!$.cookie(c))}}(),$(function(){function d(){window.scrollY>=f?e.show():e.hide()}var e=$(".side-back-top");if(e[0]){var f=e.attr("data-top")||300;f=parseFloat(f,10),$(document).on("touchmove scroll",d),d()}}),function(){var b=document.getElementById("pageLoading");b&&(window.addEventListener("DOMContentLoaded",function(){}),window.addEventListener("pageshow",function(){}),window.addEventListener("beforeunload",function(){b.style.display="block"}))}(),function(){function n(c){var d=document.createElement("a");return d.href=c,{protocol:d.protocol,host:d.host,hostname:d.hostname,port:d.port,origin:d.origin,pathname:d.pathname,search:d.search,hash:d.hash}}function o(i,j){for(var k,l,m=i.split("&"),A=j?void 0:{},B=0,C=m.length;C>B;B++){if(k=m[B]){if(k=k.split("="),l=k.shift(),j){if(j===l){return k.join("=")}}else{A[l]=k.join("=")}}}return A}function p(){var b=location.hostname.match(/\.[^\.]*\.(com|cn|net)$/);return b?b[0].substring(1):location.hostname}function q(){for(var c=["RefId","tcbdkeyid","SEFrom","SEKeyWords","RefUrl"],f=[],g=0,h=c.length;h>g;g++){f.push(c[g]+"="+(void 0===arguments[g]?"":arguments[g]))}$.cookie("CNSEInfo",f.join("&"),{domain:p(),path:"/"}),$.cookie("17uCNRefId",arguments[0],{domain:p(),path:"/"})}function r(b){var d=$.cookie(b);return d?o(d):void 0}$.extend($,{getRootDomain:p,parseUrl:n,parseParam:o}),$.cookie.raw=!0;var s,t;window.getRefid=function(){return s},$.buildAppUrl=function(a){if(t&&v){var f=a;"/"!==f.substring(f.length-1)&&(f+="/");var g=n(f),h=g.pathname.split("/").length;if(6===h){return f+t+"|"+v}if(5===h){return f+"tchome/"+t+"|"+v}}return a},window.getMemberId=function(){var b,d=$.cookie("CNMember");return d&&(b=o(d,"MemberId")),b&&"0"!==b&&"undefined"!==b||(d=$.cookie("cnUser"),d&&(b=o(d,"userid"))),b&&"undefined"!==b||(b="0"),b},function(){for(var e,f=/[\?&#](refid|tcbdkeyid)=([^\?&#]*)/gi,g=f.exec(location.href),h={};g;){e=g[2],(""===e||"undefined"===e||"0"===e)&&(e=void 0),h[g[1].toLowerCase()]=e,g=f.exec(location.href)}s=h.refid,t=h.tcbdkeyid}();var u,v,w,x,y=[{name:"baidu",searchParam:["word","wd"],encodeParam:"ie",encode:"utf-8",refId:"47582300"},{name:"google",searchParam:["q"],encodeParam:"ie",encode:"utf-8",refId:"47582655"},{name:"yahoo",searchParam:["p"],encodeParam:"ei",encode:"utf-8",refId:"47582788"},{name:"bing",searchParam:["q"],encode:"utf-8",refId:"47582703"},{name:"soso",searchParam:["key","query"],encodeParam:"ie",encode:"gb2312"},{name:"sogou",searchParam:["keyword","query"],encodeParam:"ie",encode:"utf-8",refId:"47582611"},{name:"iask",searchParam:["q"],encode:"gb2312"},{name:"so",searchParam:["q"],encodeParam:"ie",encode:"utf-8",refId:"47582541"},{name:"haosou",searchParam:["q"],encodeParam:"ie",encode:"utf-8",refId:"47582541"},{name:"jike",searchParam:["q"],encodeParam:"ie",encode:"utf-8"},{name:"panguso",searchParam:["q"],encodeParam:"ie",encode:"utf-8"},{name:"sm",searchParam:["q"],encodeParam:"ie",encode:"utf-8",refId:"47587956"},{name:"zhongsou",searchParam:["w"],encodeParam:"ie",encode:"utf-8"},{name:"youdao",searchParam:["q"],encodeParam:"ue",encode:"utf-8"}];if(function(){var a=document.referrer;if(a){for(var b,h=n(a),i=o(h.search.substring(1)),j=0,k=y.length;k>j;j++){if(b=y[j],new RegExp("(^|\\.)"+b.name+"\\.").test(h.hostname)){u=b.refId||"99295066",v=b.name,w=i[b.searchParam[0]]||i[b.searchParam[1]]||"",x=i[b.encodeParam]||b.encode;break}}}}(),u){if(s=s||u,!t){var z=r("CNSEInfo");z&&z.SEFrom===v&&(t=z.tcbdkeyid)}return void (/gb/i.test(x)?$.ajax({url:"http://www."+p()+"/AjaxHelper/Gb2312ToUtf8.ashx?words="+w,dataType:"jsonp",success:function(c){var d="";c&&c.words&&(d=c.words),q(s,t,v,d,encodeURIComponent(document.referrer))}}):q(s,t,v,w,encodeURIComponent(document.referrer)))}!function(){var b=$.cookie("CNSEInfo");b=b?o(b)||{}:{};var d=b.RefId,f=b.tcbdkeyid;return s&&s!==d?void q(s,t):(s=d,d&&"0"!==d&&"undefined"!==d?t&&t!==f?void q(s,t):(t=""===f?void 0:f,void (v=b.SEFrom)):(s="99295066",void q(s,t)))}()}();var browser={versions:function(){var b=navigator.userAgent,a=navigator.appVersion;return{trident:b.indexOf("Trident")>-1,presto:b.indexOf("Presto")>-1,webKit:b.indexOf("AppleWebKit")>-1,gecko:b.indexOf("Gecko")>-1&&b.indexOf("KHTML")==-1,mobile:!!b.match(/AppleWebKit.*Mobile.*/)||!!b.match(/AppleWebKit/),ios:!!b.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:b.indexOf("Android")>-1||b.indexOf("Linux")>-1,iPhone:b.indexOf("iPhone")>-1||b.indexOf("Mac")>-1,iPad:b.indexOf("iPad")>-1,webApp:b.indexOf("Safari")==-1}}(),language:(navigator.browserLanguage||navigator.language).toLowerCase()};Date.prototype.format=function(a){var c={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds(),"w+":Date.getWeek(this.getDay())};if(/(y+)/.test(a)){a=a.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))}for(var b in c){if(new RegExp("("+b+")").test(a)){a=a.replace(RegExp.$1,RegExp.$1.length==1?c[b]:("00"+c[b]).substr((""+c[b]).length))}}return a};Date.getWeek=function(a){this.aWeek=["周日","周一","周二","周三","周四","周五","周六"];return this.aWeek[a]};Date.ParseString=function(j){var g=/(\d{4})-(\d{1,2})-(\d{1,2})(?:\s+(\d{1,2}):(\d{1,2}):(\d{1,2}))?/i,f=g.exec(j),h=0,i=null;if(f&&f.length){if(f.length>5&&f[6]){h=Date.parse(j.replace(g,"$2/$3/$1 $4:$5:$6"))}else{h=Date.parse(j.replace(g,"$2/$3/$1"))}}else{h=Date.parse(j)}if(!isNaN(h)){i=new Date(h)}return i};function getRequest(){var d=location.search;var c=new Object();if(d.indexOf("?")!=-1){var b=d.substr(1);strs=b.split("&");for(var a=0;a<strs.length;a++){c[strs[a].split("=")[0]]=(strs[a].split("=")[1])}}return c}function getWxObj(){var b=$.cookie("WxUser");var d=new Object();if(b){var c=b.split("&");for(var a=0;a<c.length;a++){d[c[a].split("=")[0]]=(c[a].split("=")[1])}}return d}function loading(){$("#pageLoading").css("display","block")}function hiding(){$("#pageLoading").css("display","none")}var getParam=function(d){d=d.replace(/#.+$/,"");var c={};if(d==""||typeof d=="undefined"){return{}}else{d=d.substr(1).split("&");for(var a=0,b=d.length;a<b;a++){var e=d[a].split("=");if(a==0&&e.length==1){return{__search__:e[0]}}c[e.shift()]=e.join("=")}return c}};function setParam(f,b){if(f.indexOf("?")!=-1){var d=f.replace(/.*\?/,"");var c=getParam("?"+d);$.extend(c,b)}var e="";for(var a in c){e+="&"+a+"="+c[a]}e=e.substr(1);if(e){return f.replace(/(.*\?)[^#]+/,function(g,h){return h+e})}return f}var isTouchSupport=(function(){var g={},d=["touchstart","touchmove","touchend"],a=document.createElement("div"),e;try{for(e=0;e<d.length;e++){var c=d[e];c="on"+c;var f=(c in a);if(!f){a.setAttribute(c,"return;");f=typeof a[c]=="function"}g[d[e]]=f}return g.touchstart&&g.touchend&&g.touchmove}catch(b){return false}})();window.CLICK_TYPE=(isTouchSupport?"tap":"click");function removeFromArray(a,d){var c=$.inArray(d,a);try{if(c>=0){a.splice(c,1)}else{throw"not exist value"}}catch(b){console.warn(b)}}function arrExistsSameValues(a,b){var c=[];for(var d in a){for(var e in b){if(a[d]===b[e]){c.push(a[d])}}}return c}(function(){function ah(a){function b(j,h,d,k,f,g){for(;f>=0&&g>f;f+=a){var c=k?k[f]:f;d=h(d,j[c],c,j)}return d}return function(k,g,l,h){g=P(g,h,4);var j=!aw(k)&&af.keys(k),d=(j||k).length,f=a>0?0:d-1;return arguments.length<3&&(l=k[j?j[f]:f],f+=a),b(k,g,l,j,f,d)}}function ar(a){return function(f,d,b){d=H(d,b);for(var g=null!=f&&f.length,c=a>0?0:g-1;c>=0&&g>c;c+=a){if(d(f[c],c,f)){return c}}return -1}}function an(c,f){var d=aq.length,a=c.constructor,g=af.isFunction(a)&&a.prototype||aj,b="constructor";for(af.has(c,b)&&!af.contains(f,b)&&f.push(b);d--;){b=aq[d],b in c&&c[b]!==g[b]&&!af.contains(f,b)&&f.push(b)}}var Q=this,au=Q._,Z=Array.prototype,aj=Object.prototype,D=Function.prototype,L=Z.push,ae=Z.slice,V=aj.toString,ap=aj.hasOwnProperty,al=Array.isArray,Y=Object.keys,av=D.bind,X=Object.create,ay=function(){},af=function(a){return a instanceof af?a:this instanceof af?void (this._wrapped=a):new af(a)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=af),exports._=af):Q._=af,af.VERSION="1.8.2";var P=function(a,c,b){if(c===void 0){return a}switch(null==b?3:b){case 1:return function(d){return a.call(c,d)};case 2:return function(f,d){return a.call(c,f,d)};case 3:return function(f,d,g){return a.call(c,f,d,g)};case 4:return function(g,d,h,f){return a.call(c,g,d,h,f)}}return function(){return a.apply(c,arguments)}},H=function(a,c,b){return null==a?af.identity:af.isFunction(a)?P(a,c,b):af.isObject(a)?af.matcher(a):af.property(a)};af.iteratee=function(a,b){return H(a,b,1/0)};var ax=function(a,b){return function(m){var g=arguments.length;if(2>g||null==m){return m}for(var n=1;g>n;n++){for(var h=arguments[n],k=a(h),d=k.length,f=0;d>f;f++){var j=k[f];b&&m[j]!==void 0||(m[j]=h[j])}}return m}},C=function(a){if(!af.isObject(a)){return{}}if(X){return X(a)}ay.prototype=a;var b=new ay;return ay.prototype=null,b},ab=Math.pow(2,53)-1,aw=function(a){var b=a&&a.length;return"number"==typeof b&&b>=0&&ab>=b};af.each=af.forEach=function(c,f,d){f=P(f,d);var a,g;if(aw(c)){for(a=0,g=c.length;g>a;a++){f(c[a],a,c)}}else{var b=af.keys(c);for(a=0,g=b.length;g>a;a++){f(c[b[a]],b[a],c)}}return c},af.map=af.collect=function(f,j,h){j=H(j,h);for(var c=!aw(f)&&af.keys(f),k=(c||f).length,d=Array(k),g=0;k>g;g++){var b=c?c[g]:g;d[g]=j(f[b],b,f)}return d},af.reduce=af.foldl=af.inject=ah(1),af.reduceRight=af.foldr=ah(-1),af.find=af.detect=function(b,d,c){var a;return a=aw(b)?af.findIndex(b,d,c):af.findKey(b,d,c),a!==void 0&&a!==-1?b[a]:void 0},af.filter=af.select=function(b,d,c){var a=[];return d=H(d,c),af.each(b,function(e,f,g){d(e,f,g)&&a.push(e)}),a},af.reject=function(a,c,b){return af.filter(a,af.negate(H(c)),b)},af.every=af.all=function(c,g,f){g=H(g,f);for(var a=!aw(c)&&af.keys(c),h=(a||c).length,b=0;h>b;b++){var d=a?a[b]:b;if(!g(c[d],d,c)){return !1}}return !0},af.some=af.any=function(c,g,f){g=H(g,f);for(var a=!aw(c)&&af.keys(c),h=(a||c).length,b=0;h>b;b++){var d=a?a[b]:b;if(g(c[d],d,c)){return !0}}return !1},af.contains=af.includes=af.include=function(a,c,b){return aw(a)||(a=af.values(a)),af.indexOf(a,c,"number"==typeof b&&b)>=0},af.invoke=function(b,d){var c=ae.call(arguments,2),a=af.isFunction(d);return af.map(b,function(e){var f=a?d:e[d];return null==f?f:f.apply(e,c)})},af.pluck=function(a,b){return af.map(a,af.property(b))},af.where=function(a,b){return af.filter(a,af.matcher(b))},af.findWhere=function(a,b){return af.find(a,af.matcher(b))},af.max=function(h,l,k){var f,m,g=-1/0,j=-1/0;if(null==l&&null!=h){h=aw(h)?h:af.values(h);for(var b=0,d=h.length;d>b;b++){f=h[b],f>g&&(g=f)}}else{l=H(l,k),af.each(h,function(c,i,a){m=l(c,i,a),(m>j||m===-1/0&&g===-1/0)&&(g=c,j=m)})}return g},af.min=function(h,l,k){var f,m,g=1/0,j=1/0;if(null==l&&null!=h){h=aw(h)?h:af.values(h);for(var b=0,d=h.length;d>b;b++){f=h[b],g>f&&(g=f)}}else{l=H(l,k),af.each(h,function(c,i,a){m=l(c,i,a),(j>m||1/0===m&&1/0===g)&&(g=c,j=m)})}return g},af.shuffle=function(c){for(var f,d=aw(c)?c:af.values(c),a=d.length,g=Array(a),b=0;a>b;b++){f=af.random(0,b),f!==b&&(g[b]=g[f]),g[f]=d[b]}return g},af.sample=function(a,c,b){return null==c||b?(aw(a)||(a=af.values(a)),a[af.random(a.length-1)]):af.shuffle(a).slice(0,Math.max(0,c))},af.sortBy=function(a,c,b){return c=H(c,b),af.pluck(af.map(a,function(f,g,d){return{value:f,index:g,criteria:c(f,g,d)}}).sort(function(f,h){var g=f.criteria,d=h.criteria;if(g!==d){if(g>d||g===void 0){return 1}if(d>g||d===void 0){return -1}}return f.index-h.index}),"value")};var G=function(a){return function(d,c,b){var f={};return c=H(c,b),af.each(d,function(g,h){var j=c(g,h,d);a(f,g,j)}),f}};af.groupBy=G(function(a,c,b){af.has(a,b)?a[b].push(c):a[b]=[c]}),af.indexBy=G(function(a,c,b){a[b]=c}),af.countBy=G(function(a,c,b){af.has(a,b)?a[b]++:a[b]=1}),af.toArray=function(a){return a?af.isArray(a)?ae.call(a):aw(a)?af.map(a,af.identity):af.values(a):[]},af.size=function(a){return null==a?0:aw(a)?a.length:af.keys(a).length},af.partition=function(b,d,c){d=H(d,c);var a=[],f=[];return af.each(b,function(g,h,e){(d(g,h,e)?a:f).push(g)}),[a,f]},af.first=af.head=af.take=function(a,c,b){return null==a?void 0:null==c||b?a[0]:af.initial(a,a.length-c)},af.initial=function(a,c,b){return ae.call(a,0,Math.max(0,a.length-(null==c||b?1:c)))},af.last=function(a,c,b){return null==a?void 0:null==c||b?a[a.length-1]:af.rest(a,Math.max(0,a.length-c))},af.rest=af.tail=af.drop=function(a,c,b){return ae.call(a,null==c||b?1:c)},af.compact=function(a){return af.filter(a,af.identity)};var ac=function(m,s,q,g){for(var v=[],j=0,p=g||0,b=m&&m.length;b>p;p++){var d=m[p];if(aw(d)&&(af.isArray(d)||af.isArguments(d))){s||(d=ac(d,s,q));var k=0,h=d.length;for(v.length+=h;h>k;){v[j++]=d[k++]}}else{q||(v[j++]=d)}}return v};af.flatten=function(a,b){return ac(a,b,!1)},af.without=function(a){return af.difference(a,ae.call(arguments,1))},af.uniq=af.unique=function(j,p,m,f){if(null==j){return[]}af.isBoolean(p)||(f=m,m=p,p=!1),null!=m&&(m=H(m,f));for(var q=[],g=[],k=0,b=j.length;b>k;k++){var d=j[k],h=m?m(d,k,j):d;p?(k&&g===h||q.push(d),g=h):m?af.contains(g,h)||(g.push(h),q.push(d)):af.contains(q,d)||q.push(d)}return q},af.union=function(){return af.uniq(ac(arguments,!0,!0))},af.intersection=function(c){if(null==c){return[]}for(var g=[],f=arguments.length,a=0,h=c.length;h>a;a++){var b=c[a];if(!af.contains(g,b)){for(var d=1;f>d&&af.contains(arguments[d],b);d++){}d===f&&g.push(b)}}return g},af.difference=function(a){var b=ac(arguments,!0,!0,1);return af.filter(a,function(c){return !af.contains(b,c)})},af.zip=function(){return af.unzip(arguments)},af.unzip=function(b){for(var d=b&&af.max(b,"length").length||0,c=Array(d),a=0;d>a;a++){c[a]=af.pluck(b,a)}return c},af.object=function(b,d){for(var c={},a=0,f=b&&b.length;f>a;a++){d?c[b[a]]=d[a]:c[b[a][0]]=b[a][1]}return c},af.indexOf=function(b,d,c){var a=0,f=b&&b.length;if("number"==typeof c){a=0>c?Math.max(0,f+c):c}else{if(c&&f){return a=af.sortedIndex(b,d),b[a]===d?a:-1}}if(d!==d){return af.findIndex(ae.call(b,a),af.isNaN)}for(;f>a;a++){if(b[a]===d){return a}}return -1},af.lastIndexOf=function(b,d,c){var a=b?b.length:0;if("number"==typeof c&&(a=0>c?a+c+1:Math.min(a,c+1)),d!==d){return af.findLastIndex(ae.call(b,0,a),af.isNaN)}for(;--a>=0;){if(b[a]===d){return a}}return -1},af.findIndex=ar(1),af.findLastIndex=ar(-1),af.sortedIndex=function(f,j,h,c){h=H(h,c,1);for(var k=h(j),d=0,g=f.length;g>d;){var b=Math.floor((d+g)/2);h(f[b])<k?d=b+1:g=b}return d},af.range=function(c,f,d){arguments.length<=1&&(f=c||0,c=0),d=d||1;for(var a=Math.max(Math.ceil((f-c)/d),0),g=Array(a),b=0;a>b;b++,c+=d){g[b]=c}return g};var ak=function(c,g,f,a,h){if(!(a instanceof g)){return c.apply(f,h)}var b=C(c.prototype),d=c.apply(b,h);return af.isObject(d)?d:b};af.bind=function(b,d){if(av&&b.bind===av){return av.apply(b,ae.call(arguments,1))}if(!af.isFunction(b)){throw new TypeError("Bind must be called on a function")}var c=ae.call(arguments,2),a=function(){return ak(b,a,d,this,c.concat(ae.call(arguments)))};return a},af.partial=function(a){var c=ae.call(arguments,1),b=function(){for(var d=0,h=c.length,f=Array(h),g=0;h>g;g++){f[g]=c[g]===af?arguments[d++]:c[g]}for(;d<arguments.length;){f.push(arguments[d++])}return ak(a,b,this,this,f)};return b},af.bindAll=function(b){var d,c,a=arguments.length;if(1>=a){throw new Error("bindAll must be passed function names")}for(d=1;a>d;d++){c=arguments[d],b[c]=af.bind(b[c],b)}return b},af.memoize=function(a,c){var b=function(d){var g=b.cache,f=""+(c?c.apply(this,arguments):d);return af.has(g,f)||(g[f]=a.apply(this,arguments)),g[f]};return b.cache={},b},af.delay=function(a,c){var b=ae.call(arguments,2);return setTimeout(function(){return a.apply(null,b)},c)},af.defer=af.partial(af.delay,af,1),af.throttle=function(h,l,k){var f,m,g,j=null,b=0;k||(k={});var d=function(){b=k.leading===!1?0:af.now(),j=null,g=h.apply(f,m),j||(f=m=null)};return function(){var c=af.now();b||k.leading!==!1||(b=c);var a=l-(c-b);return f=this,m=arguments,0>=a||a>l?(j&&(clearTimeout(j),j=null),b=c,g=h.apply(f,m),j||(f=m=null)):j||k.trailing===!1||(j=setTimeout(d,a)),g}},af.debounce=function(h,l,k){var f,m,g,j,b,d=function(){var a=af.now()-j;l>a&&a>=0?f=setTimeout(d,l-a):(f=null,k||(b=h.apply(g,m),f||(g=m=null)))};return function(){g=this,m=arguments,j=af.now();var a=k&&!f;return f||(f=setTimeout(d,l)),a&&(b=h.apply(g,m),g=m=null),b}},af.wrap=function(a,b){return af.partial(b,a)},af.negate=function(a){return function(){return !a.apply(this,arguments)}},af.compose=function(){var a=arguments,b=a.length-1;return function(){for(var d=b,c=a[b].apply(this,arguments);d--;){c=a[d].call(this,c)}return c}},af.after=function(a,b){return function(){return --a<1?b.apply(this,arguments):void 0}},af.before=function(a,c){var b;return function(){return --a>0&&(b=c.apply(this,arguments)),1>=a&&(c=null),b}},af.once=af.partial(af.before,2);var W=!{toString:null}.propertyIsEnumerable("toString"),aq=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];af.keys=function(b){if(!af.isObject(b)){return[]}if(Y){return Y(b)}var c=[];for(var a in b){af.has(b,a)&&c.push(a)}return W&&an(b,c),c},af.allKeys=function(b){if(!af.isObject(b)){return[]}var c=[];for(var a in b){c.push(a)}return W&&an(b,c),c},af.values=function(b){for(var d=af.keys(b),c=d.length,a=Array(c),f=0;c>f;f++){a[f]=b[d[f]]}return a},af.mapObject=function(f,j,h){j=H(j,h);for(var c,k=af.keys(f),d=k.length,g={},b=0;d>b;b++){c=k[b],g[c]=j(f[c],c,f)}return g},af.pairs=function(b){for(var d=af.keys(b),c=d.length,a=Array(c),f=0;c>f;f++){a[f]=[d[f],b[d[f]]]}return a},af.invert=function(b){for(var d={},c=af.keys(b),a=0,f=c.length;f>a;a++){d[b[c[a]]]=c[a]}return d},af.functions=af.methods=function(a){var c=[];for(var b in a){af.isFunction(a[b])&&c.push(b)}return c.sort()},af.extend=ax(af.allKeys),af.extendOwn=af.assign=ax(af.keys),af.findKey=function(c,g,f){g=H(g,f);for(var a,h=af.keys(c),b=0,d=h.length;d>b;b++){if(a=h[b],g(c[a],a,c)){return a}}},af.pick=function(m,s,q){var g,v,j={},p=m;if(null==p){return j}af.isFunction(s)?(v=af.allKeys(p),g=P(s,q)):(v=ac(arguments,!1,!1,1),g=function(a,e,c){return e in c},p=Object(p));for(var b=0,d=v.length;d>b;b++){var k=v[b],h=p[k];g(h,k,p)&&(j[k]=h)}return j},af.omit=function(b,d,c){if(af.isFunction(d)){d=af.negate(d)}else{var a=af.map(ac(arguments,!1,!1,1),String);d=function(e,f){return !af.contains(a,f)}}return af.pick(b,d,c)},af.defaults=ax(af.allKeys,!0),af.clone=function(a){return af.isObject(a)?af.isArray(a)?a.slice():af.extend({},a):a},af.tap=function(a,b){return b(a),a},af.isMatch=function(c,g){var f=af.keys(g),a=f.length;if(null==c){return !a}for(var h=Object(c),b=0;a>b;b++){var d=f[b];if(g[d]!==h[d]||!(d in h)){return !1}}return !0};var U=function(j,q,m,f){if(j===q){return 0!==j||1/j===1/q}if(null==j||null==q){return j===q}j instanceof af&&(j=j._wrapped),q instanceof af&&(q=q._wrapped);var v=V.call(j);if(v!==V.call(q)){return !1}switch(v){case"[object RegExp]":case"[object String]":return""+j==""+q;case"[object Number]":return +j!==+j?+q!==+q:0===+j?1/+j===1/q:+j===+q;case"[object Date]":case"[object Boolean]":return +j===+q}var g="[object Array]"===v;if(!g){if("object"!=typeof j||"object"!=typeof q){return !1}var k=j.constructor,b=q.constructor;if(k!==b&&!(af.isFunction(k)&&k instanceof k&&af.isFunction(b)&&b instanceof b)&&"constructor" in j&&"constructor" in q){return !1}}m=m||[],f=f||[];for(var d=m.length;d--;){if(m[d]===j){return f[d]===q}}if(m.push(j),f.push(q),g){if(d=j.length,d!==q.length){return !1}for(;d--;){if(!U(j[d],q[d],m,f)){return !1}}}else{var h,p=af.keys(j);if(d=p.length,af.keys(q).length!==d){return !1}for(;d--;){if(h=p[d],!af.has(q,h)||!U(j[h],q[h],m,f)){return !1}}}return m.pop(),f.pop(),!0};af.isEqual=function(a,b){return U(a,b)},af.isEmpty=function(a){return null==a?!0:aw(a)&&(af.isArray(a)||af.isString(a)||af.isArguments(a))?0===a.length:0===af.keys(a).length},af.isElement=function(a){return !(!a||1!==a.nodeType)},af.isArray=al||function(a){return"[object Array]"===V.call(a)},af.isObject=function(a){var b=typeof a;return"function"===b||"object"===b&&!!a},af.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(a){af["is"+a]=function(b){return V.call(b)==="[object "+a+"]"}}),af.isArguments(arguments)||(af.isArguments=function(a){return af.has(a,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(af.isFunction=function(a){return"function"==typeof a||!1}),af.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},af.isNaN=function(a){return af.isNumber(a)&&a!==+a},af.isBoolean=function(a){return a===!0||a===!1||"[object Boolean]"===V.call(a)},af.isNull=function(a){return null===a},af.isUndefined=function(a){return a===void 0},af.has=function(a,b){return null!=a&&ap.call(a,b)},af.noConflict=function(){return Q._=au,this},af.identity=function(a){return a},af.constant=function(a){return function(){return a}},af.noop=function(){},af.property=function(a){return function(b){return null==b?void 0:b[a]}},af.propertyOf=function(a){return null==a?function(){}:function(b){return a[b]}},af.matcher=af.matches=function(a){return a=af.extendOwn({},a),function(b){return af.isMatch(b,a)}},af.times=function(b,d,c){var a=Array(Math.max(0,b));d=P(d,c,1);for(var f=0;b>f;f++){a[f]=d(f)}return a},af.random=function(a,b){return null==b&&(b=a,a=0),a+Math.floor(Math.random()*(b-a+1))},af.now=Date.now||function(){return(new Date).getTime()};var ag={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},ai=af.invert(ag),aa=function(b){var d=function(e){return b[e]},c="(?:"+af.keys(b).join("|")+")",a=RegExp(c),f=RegExp(c,"g");return function(e){return e=null==e?"":""+e,a.test(e)?e.replace(f,d):e}};af.escape=aa(ag),af.unescape=aa(ai),af.result=function(b,d,c){var a=null==b?void 0:b[d];return a===void 0&&(a=c),af.isFunction(a)?a.call(b):a};var J=0;af.uniqueId=function(a){var b=++J+"";return a?a+b:b},af.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var at=/(.)^/,ao={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},am=/\\|'|\r|\n|\u2028|\u2029/g,ad=function(a){return"\\"+ao[a]};af.template=function(j,p,m){!p&&m&&(p=m),p=af.defaults({},p,af.templateSettings);var f=RegExp([(p.escape||at).source,(p.interpolate||at).source,(p.evaluate||at).source].join("|")+"|$","g"),q=0,g="__p+='";j.replace(f,function(s,n,i,l,c){return g+=j.slice(q,c).replace(am,ad),q=c+s.length,n?g+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?g+="'+\n((__t=("+i+"))==null?'':__t)+\n'":l&&(g+="';\n"+l+"\n__p+='"),s}),g+="';\n",p.variable||(g="with(obj||{}){\n"+g+"}\n"),g="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+g+"return __p;\n";try{var k=new Function(p.variable||"obj","_",g)}catch(b){throw b.source=g,b}var d=function(a){return k.call(this,a,af)},h=p.variable||"obj";return d.source="function("+h+"){\n"+g+"}",d},af.chain=function(a){var b=af(a);return b._chain=!0,b};var az=function(a,b){return a._chain?af(b).chain():b};af.mixin=function(a){af.each(af.functions(a),function(c){var b=af[c]=a[c];af.prototype[c]=function(){var d=[this._wrapped];return L.apply(d,arguments),az(this,b.apply(af,d))}})},af.mixin(af),af.each(["pop","push","reverse","shift","sort","splice","unshift"],function(a){var b=Z[a];af.prototype[a]=function(){var c=this._wrapped;return b.apply(c,arguments),"shift"!==a&&"splice"!==a||0!==c.length||delete c[0],az(this,c)}}),af.each(["concat","join","slice"],function(a){var b=Z[a];af.prototype[a]=function(){return az(this,b.apply(this._wrapped,arguments))}}),af.prototype.value=function(){return this._wrapped},af.prototype.valueOf=af.prototype.toJSON=af.prototype.value,af.prototype.toString=function(){return""+this._wrapped},"function"==typeof define&&define.amd&&define("underscore",[],function(){return af})}).call(this);
webpackJsonp([1],{DN85:function(e,t){},Hn5C:function(e,t){},P8xa:function(e,t,s){"use strict";var a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"imessage"}},[s("div",{staticClass:"content",class:e.message.type},[e._m(0),e._v(" "),s("div",{staticClass:"text-area"},[s("p",{staticClass:"msg-title"},[e._v(e._s(e.message.message))]),e._v(" "),e.message.description?s("p",{staticClass:"desc"},[e._v(e._s(e.message.description))]):e._e()]),e._v(" "),s("div",{staticClass:"btn-area"},[s("p",[s("router-link",{staticClass:"button",attrs:{tag:"div",to:e.message.redirect?e.message.redirect:""}},[e.message.btnText?[e._v("\n\t\t\t\t\t\t"+e._s(e.message.btnText)+"\n\t\t\t\t\t")]:[e._v("\n\t\t\t\t\t\t确定\n\t\t\t\t\t")]],2)],1)]),e._v(" "),s("div",{staticClass:"extra-area"},[s("router-link",{attrs:{to:e.util.getUrl({path:"/pages/home/index"})}},[e._v("返回首页")])],1)])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"icon-area"},[t("i",{staticClass:"icon icon-icon"})])}]};var n=s("VU/8")({props:{message:{}}},a,!1,function(e){s("u7pM")},"data-v-122ef5d8",null);t.a=n.exports},V1el:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("Cz8s"),n={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"agreement"}},[s("van-popup",{attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[s("van-nav-bar",{staticClass:"border-0px",style:{background:"#ff2d4b",color:"#fff"},attrs:{title:"协议"},on:{"click-left":e.onClose}},[s("van-icon",{staticClass:"font-20",style:{color:"#fff"},attrs:{slot:"left",name:"left"},slot:"left"})],1),e._v(" "),s("div",{staticClass:"richtext",domProps:{innerHTML:e._s(e.content)}})],1)],1)},staticRenderFns:[]};var i=s("VU/8")({name:"agreement",props:{show:!1,title:"",content:""},methods:{onClose:function(){this.$emit("agreementHide")}}},n,!1,function(e){s("DN85")},"data-v-4aa10090",null).exports,r=s("P8xa"),o={name:"storeApplication",components:{PublicHeader:a.a,Agreement:i,imessage:r.a},data:function(){return{agreementShow:!1,agreement:{},mobile:"",title:"",content:"",address:"",message:{type:"",message:"",description:"",redirect:"",btnText:""}}},methods:{agreementHide:function(){this.agreementShow=!1},onSubmit:function(){var e=this;if(!this.mobile)return this.$toast("手机号不能为空"),!1;return/^[01][345678][0-9]{9}/.test(this.mobile)?this.address?this.title?void this.util.request({url:"wmall/store/settle/store",method:"POST",data:{telephone:this.mobile,address:this.address,content:this.content,title:this.title}}).then(function(t){var s=t.data.message;if(-1==s.errno)return e.$toast(s.message),!1;e.onLoad()}):(this.$toast("商户名称不能为空"),!1):(this.$toast("商户地址不能为空"),!1):(this.$toast("手机号格式错误"),!1)},onLoad:function(){var e=this;this.util.request({url:"wmall/store/settle/store"}).then(function(t){var s=t.data.message;-1e3==s.errno?e.util.$toast(s.message,e.util.getUrl({path:"/pages/store/settle"}),1e3,"replace"):-1001==s.errno?e.message={type:"info",message:s.message.message,redirect:e.util.getUrl({path:"/pages/member/mine"}),btnText:"确定"}:-1==s.errno?e.message={type:"error",message:s.message,redirect:e.util.getUrl({path:"/pages/member/mine"}),btnText:"返回"}:0==s.errno?e.util.$toast(s.message.message,e.util.getUrl({path:"/pages/home/index"}),1e3,"replace"):e.agreement=s.message.agreement})}},mounted:function(){this.onLoad()}},l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"store-application"}},[s("public-header",{attrs:{title:"商户信息"}}),e._v(" "),s("div",{staticClass:"content"},[s("van-cell-group",[s("van-field",{attrs:{label:"商户名称",placeholder:"店铺名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),s("van-field",{attrs:{label:"商户地址",placeholder:"店铺详细地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),e._v(" "),s("van-field",{attrs:{label:"联系电话",placeholder:"店铺负责人电话"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e._v(" "),s("van-field",{attrs:{type:"textarea",label:"商户简介"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),e._v(" "),s("div",{staticClass:"protocol"},[e._v("\n\t\t\t我已阅读并同意 "),s("span",{staticClass:"c-danger",on:{click:function(t){e.agreementShow=!0}}},[e._v("《商户入驻协议》")])]),e._v(" "),s("div",{staticClass:"submit"},[s("van-button",{attrs:{size:"normal",type:"danger",block:!0},on:{click:e.onSubmit}},[e._v("提交")])],1)],1),e._v(" "),s("agreement",{attrs:{show:e.agreementShow,title:e.agreement.title,content:e.agreement.value},on:{agreementHide:e.agreementHide}}),e._v(" "),e.message.type?s("imessage",{attrs:{message:e.message}}):e._e()],1)},staticRenderFns:[]};var c=s("VU/8")(o,l,!1,function(e){s("Hn5C")},"data-v-25025b9e",null);t.default=c.exports},u7pM:function(e,t){}});
//# sourceMappingURL=1.438c47fcae40b743fbdd.js.map
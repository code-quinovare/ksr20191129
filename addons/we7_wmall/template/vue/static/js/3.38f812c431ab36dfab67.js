webpackJsonp([3],{Aoa7:function(e,t){},DN85:function(e,t){},V1el:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("Cz8s"),n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"agreement"}},[a("van-popup",{attrs:{position:"bottom"},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("van-nav-bar",{staticClass:"border-0px",style:{background:"#ff2d4b",color:"#fff"},attrs:{title:"协议"},on:{"click-left":e.onClose}},[a("van-icon",{staticClass:"font-20",style:{color:"#fff"},attrs:{slot:"left",name:"left"},slot:"left"})],1),e._v(" "),a("div",{staticClass:"richtext",domProps:{innerHTML:e._s(e.content)}})],1)],1)},staticRenderFns:[]};var o=a("VU/8")({name:"agreement",props:{show:!1,title:"",content:""},methods:{onClose:function(){this.$emit("agreementHide")}}},n,!1,function(e){a("DN85")},"data-v-4aa10090",null).exports,l={name:"storeApplication",components:{PublicHeader:s.a,Agreement:o},data:function(){return{agreementShow:!1,agreement:{},mobile:"",title:"",address:""}},methods:{agreementHide:function(){this.agreementShow=!1},onSubmit:function(){var e=this;if(!this.mobile)return this.$toast("手机号不能为空"),!1;return/^[01][345678][0-9]{9}/.test(this.mobile)?this.address?this.title?void this.util.request({url:"wmall/store/settle/store",method:"POST",data:{telephone:this.mobile,address:this.address,content:this.content,title:this.title}}).then(function(t){var a=t.data.message;if(-1==a.errno)return e.$toast(a.message),!1;e.onLoad()}):(this.$toast("商户名称不能为空"),!1):(this.$toast("商户地址不能为空"),!1):(this.$toast("手机号格式错误"),!1)},onLoad:function(){var e=this;this.util.request({url:"wmall/store/settle/store"}).then(function(t){var a=t.data.message;e.util.$toast(a.message.message,"",1e3),-1e3==a.errno?e.util.$toast(a.message.message,e.util.getUrl({path:"/pages/store/settle"}),1e3,"replace"):-1001==a.errno?e.util.$toast(a.message.message,e.util.getUrl({path:"/pages/member/mine"}),1e3,"replace"):-1==a.errno?e.util.$toast(a.message.message,e.util.getUrl({path:"/pages/member/mine"}),1e3,"replace"):0==a.errno?e.util.$toast(a.message.message,e.util.getUrl({path:"/pages/home/index"}),1e3,"replace"):e.agreement=a.message.agreement})}},mounted:function(){this.onLoad()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"store-application"}},[a("public-header",{attrs:{title:"商户信息"}}),e._v(" "),a("div",{staticClass:"content"},[a("van-cell-group",[a("van-field",{attrs:{label:"商户名称",placeholder:"店铺名称"},model:{value:e.title,callback:function(t){e.title=t},expression:"title"}}),e._v(" "),a("van-field",{attrs:{label:"商户地址",placeholder:"店铺详细地址"},model:{value:e.address,callback:function(t){e.address=t},expression:"address"}}),e._v(" "),a("van-field",{attrs:{label:"联系电话",placeholder:"店铺负责人电话"},model:{value:e.mobile,callback:function(t){e.mobile=t},expression:"mobile"}}),e._v(" "),a("van-field",{attrs:{type:"textarea",label:"商户简介"},model:{value:e.content,callback:function(t){e.content=t},expression:"content"}})],1),e._v(" "),a("div",{staticClass:"protocol"},[e._v("\n\t\t\t我已阅读并同意 "),a("span",{staticClass:"c-danger",on:{click:function(t){e.agreementShow=!0}}},[e._v("《商户入驻协议》")])]),e._v(" "),a("div",{staticClass:"submit"},[a("van-button",{attrs:{size:"normal",type:"danger",block:!0},on:{click:e.onSubmit}},[e._v("提交")])],1)],1),e._v(" "),a("agreement",{attrs:{show:e.agreementShow,title:e.agreement.title,content:e.agreement.value},on:{agreementHide:e.agreementHide}})],1)},staticRenderFns:[]};var r=a("VU/8")(l,i,!1,function(e){a("Aoa7")},"data-v-73c85bbd",null);t.default=r.exports}});
//# sourceMappingURL=3.38f812c431ab36dfab67.js.map
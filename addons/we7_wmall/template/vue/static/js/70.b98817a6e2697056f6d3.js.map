{"version":3,"sources":["webpack:///src/pages/diy/index.vue","webpack:///./src/pages/diy/index.vue?70e1","webpack:///./src/pages/diy/index.vue"],"names":["pages_diy","name","data","id","getLocationFail","showPreLoading","styleContent","diydata","diy","storeExtra","condition","order","mode","dis","filter_title","multiple","filter","stores","loading","finished","page","psize","loaded","empty","popup","storeSearch","superRedpacketData","components","PublicHeader","header","methods","extends_default","Object","vuex_esm","onToggleDiscount","key","diyindex","this","items","onCloseRedpacket","is_show","assign_default","onChangeStoreExtra","onStoreOrderby","type","value","title","onGetStore","force","_this","that","util","request","url","lat","locationInfo","location_x","lng","location_y","stringify_default","then","res","result","message","concat","toConsumableArray_default","pagetotal","length","onLoad","_this2","arguments","undefined","errno","$toast","config","cart_sum","background-color","background","is_has_location","is_has_allstore","getLocation","successLocation","setLocation","last_location_x","successAddress","address","fail","onGetCartNums","_this3","created","$route","query","computed","activated","mounted","selectortype_template_index_0_src_pages_diy","render","_vm","_h","$createElement","_c","_self","attrs","_v","staticClass","style","preLoading","on","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/70.b98817a6e2697056f6d3.js","sourcesContent":["<template>\r\n\t<div id=\"diy\">\r\n\t\t<public-header title=\"页面标题\"></public-header>\r\n\t\t<div class=\"content\" :style=\"styleContent\">\r\n\t\t\t<diy\r\n\t\t\t\t:diydata=\"diydata\"\r\n\t\t\t\t:preLoading=\"showPreLoading\"\r\n\t\t\t\t:getLocationFail=\"getLocationFail\"\r\n\t\t\t\t@onToggleDiscount=\"onToggleDiscount\"\r\n\t\t\t\t@onChangeStoreExtra=\"onChangeStoreExtra\"\r\n\t\t\t\t@onStoreOrderby=\"onStoreOrderby\"\r\n\t\t\t\t@onGetStore=\"onGetStore\"\r\n\t\t\t\t@onCloseRedpacket=\"onCloseRedpacket\">\r\n\t\t\t</diy>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport PublicHeader from '@/components/header'\r\n\timport diy from '@/components/diy'\r\n\texport default {\r\n\t\tname: \"diyIndex\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tid: 0,\r\n\t\t\t\tgetLocationFail: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tstyleContent: '#fff',\r\n\t\t\t\tdiydata:{\r\n\t\t\t\t\tdiy: {\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstoreExtra: {\r\n\t\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\t\tfilter: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstores: {\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 5,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: 0,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpopup: {\r\n\t\t\t\t\t\tstoreSearch: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuperRedpacketData: {},\r\n\t\t\t\t},\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tdiy\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setLocation', 'getLocation', 'setState'\r\n\t\t\t]),\r\n\r\n\t\t\tonToggleDiscount(key, diyindex) {\r\n\t\t\t\tvar diyitem = this.diydata.diy.data.items[diyindex];\r\n\t\t\t\tif(diyitem.id == 'waimai_stores') {\r\n\t\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.stores.data[key]['activity']['is_show_all'] = !this.diydata.stores.data[key]['activity']['is_show_all'];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonCloseRedpacket() {\r\n\t\t\t\tthis.diydata.superRedpacketData.is_show = false;\r\n\t\t\t\tthis.diydata.superRedpacketData = Object.assign({}, this.diydata.superRedpacketData);\r\n\t\t\t},\r\n\r\n\t\t\tonChangeStoreExtra(key) {\r\n\t\t\t\tif(key == 'multiple') {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = true;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = true;\r\n\t\t\t},\r\n\r\n\t\t\tonStoreOrderby(type, value, title) {\r\n\t\t\t\tif(type == 'order') {\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.order = value;\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\tif(value != 'sailed' && value != 'distance') {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = title;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'discounts') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.dis == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = value;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if(type == 'mode') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.mode == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = value;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if(type == 'clear') {\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.order = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t} else if(type == 'finish') {\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = false;\r\n\t\t\t\tthis.onGetStore(true);\r\n\t\t\t},\r\n\r\n\t\t\tonGetStore(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.stores = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.stores.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/home/index/store',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: that.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: that.locationInfo.location_y,\r\n\t\t\t\t\t\tpage: that.diydata.stores.page,\r\n\t\t\t\t\t\tpsize: that.diydata.stores.psize,\r\n\t\t\t\t\t\tcondition: JSON.stringify(that.diydata.storeExtra.condition),\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tif(force) {\r\n\t\t\t\t\t\tthat.diydata.stores.data = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.data = [...this.diydata.stores.data, ...result.stores];\r\n\t\t\t\t\tif(result.pagetotal <= that.diydata.stores.page) {\r\n\t\t\t\t\t\tthat.diydata.stores.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.stores.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.stores.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.stores.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.loading = false;\r\n\t\t\t\t\tthat.diydata.stores.page++;\r\n\r\n\t\t\t\t\tif(!that.diydata.stores.loaded && !result.stores.length) {\r\n\t\t\t\t\t\tthis.onGetStore();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonLoad(force = false) {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'diypage/diy',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tid: this.id\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tvar that = this;\r\n\t\t\t\t\tthat.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthat.util.$toast(result.message)\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.config = result.message.config;\r\n\t\t\t\t\tthat.diydata.diy = result.message.diy;\r\n\t\t\t\t\tthat.diy = result.message.diy;\r\n\t\t\t\t\tthat.title = result.message.diy.data.page.title;\r\n\t\t\t\t\tthat.diydata.superRedpacketData = result.message.superRedpacketData;\r\n\t\t\t\t\tthat.diydata.superRedpacketData.is_show = true;\r\n\t\t\t\t\tthat.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t\tthat.styleContent = {\r\n\t\t\t\t\t\t'background-color': diydata.diy.data.page.background\r\n\t\t\t\t\t};\r\n\r\n\t\t\t\t\tif(that.diy.is_has_location == 1 || that.diy.is_has_allstore == 1) {\r\n\t\t\t\t\t\tthat.getLocation();\r\n\t\t\t\t\t\tif(!that.locationInfo.location_x) {\r\n\t\t\t\t\t\t\tthat.util.getLocation({\r\n\t\t\t\t\t\t\t\tsuccessLocation: function(res) {\r\n\t\t\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\t\t\tlast_location_x: res.location_x,\r\n\t\t\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\t\t\tlocation_y: res.location_y\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tif(that.diy.is_has_allstore == 1) {\r\n\t\t\t\t\t\t\t\t\t\tthat.onGetStore(force);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tsuccessAddress:  function(res) {\r\n\t\t\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\t\t\tlast_location_x: res.location_x,\r\n\t\t\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\t\t\tlocation_y: res.location_y,\r\n\t\t\t\t\t\t\t\t\t\taddress: res.address\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\t\t\tlast_location_x: 0,\r\n\t\t\t\t\t\t\t\t\t\tlocation_x: 0,\r\n\t\t\t\t\t\t\t\t\t\taddress: '获取定位失败'\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\tthat.getLocationFail = true;\r\n\t\t\t\t\t\t\t\t\tif(that.diy.is_has_allstore == 1) {\r\n\t\t\t\t\t\t\t\t\t\tthat.onGetStore(force);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthat.getLocationFail = false;\r\n\t\t\t\t\t\t\tthat.onGetStore(force);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tonGetCartNums() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/home/index/cart',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tif(this.$route.query.id) {\r\n\t\t\t\tthis.id = this.$route.query.id;\r\n\t\t\t} else {\r\n\t\t\t\tthis.util.$toast('页面不存在！')\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'locationInfo'\r\n\t\t\t]),\r\n\t\t},\r\n\t\tactivated() {\r\n\t\t\tif(this.locationInfo.last_location_x != this.locationInfo.location_x) {\r\n\t\t\t\tthis.diydata.storeExtra = {\r\n\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tfilter: false\r\n\t\t\t\t};\r\n\t\t\t\tthis.onLoad(true);\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.onGetCartNums();\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tthis.onLoad();\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style >\r\n\t#diy .content{\r\n\t\tbottom: 0;\r\n\t}\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/diy/index.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"diy\"}},[_c('public-header',{attrs:{\"title\":\"页面标题\"}}),_vm._v(\" \"),_c('div',{staticClass:\"content\",style:(_vm.styleContent)},[_c('diy',{attrs:{\"diydata\":_vm.diydata,\"preLoading\":_vm.showPreLoading,\"getLocationFail\":_vm.getLocationFail},on:{\"onToggleDiscount\":_vm.onToggleDiscount,\"onChangeStoreExtra\":_vm.onChangeStoreExtra,\"onStoreOrderby\":_vm.onStoreOrderby,\"onGetStore\":_vm.onGetStore,\"onCloseRedpacket\":_vm.onCloseRedpacket}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-31414981\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/diy/index.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-31414981\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./index.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./index.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-31414981\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./index.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/diy/index.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
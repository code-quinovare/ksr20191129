{"version":3,"sources":["webpack:///src/pages/home/home.vue","webpack:///./src/pages/home/home.vue?c5f7","webpack:///./src/pages/home/home.vue","webpack:///src/components/orderStatusWarpper.vue","webpack:///./src/components/orderStatusWarpper.vue?d3a7","webpack:///./src/components/orderStatusWarpper.vue"],"names":["home","data","getLocationFail","showPreLoading","is_use_diy","diydata","diy","storeExtra","condition","order","mode","dis","filter_title","multiple","filter","stores","loading","finished","page","psize","loaded","empty","popup","storeSearch","superRedpacketData","config","menufooter","this","util","getStorage","order_remind","showFixedSearchBar","components","PublicHeader","header","PublicFooter","footer","OrderStatusWarpper","orderStatusWarpper","methods","extends_default","Object","vuex_esm","onToggleDiscount","key","diyindex","items","id","onCloseRedpacket","is_show","assign_default","onChangeStoreExtra","onStoreOrderby","type","value","title","onGetStore","force","_this","that","request","url","lat","locationInfo","location_x","lng","location_y","stringify_default","then","res","result","message","concat","toConsumableArray_default","pagetotal","length","onLoad","_this2","errno","$toast","setWXTitle","cart_sum","window","onInit","getLocation","last_location_x","successLocation","setLocation","successAddress","address","fail","onGetCartNums","_this3","created","activated","computed","mounted","addEventListener","scrollTop","pageYOffset","document","documentElement","body","home_home","render","_vm","_h","$createElement","_c","_self","attrs","_v","log","_e","staticClass","preLoading","on","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","props","default","active","onChangeActive","components_orderStatusWarpper","class","click","src","logo","alt","_s"],"mappings":"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","file":"static/js/3.27228d0f10ffef30409c.js","sourcesContent":["<template>\r\n\t<div id=\"home\">\r\n\t\t<div id=\"allmap\"></div>\r\n\t\t<order-status-warpper v-if=\"order_remind && order_remind.log\" :order=\"order_remind\"></order-status-warpper>\r\n\t\t<public-footer :menufooter=\"menufooter\"></public-footer>\r\n\t\t<div class=\"container\">\r\n\t\t\t<diy\r\n\t\t\t\t:diydata=\"diydata\"\r\n\t\t\t\t:preLoading=\"showPreLoading\"\r\n\t\t\t\t:getLocationFail=\"getLocationFail\"\r\n\t\t\t\t:showFixedSearchBar=\"showFixedSearchBar\"\r\n\t\t\t\t@onToggleDiscount=\"onToggleDiscount\"\r\n\t\t\t\t@onChangeStoreExtra=\"onChangeStoreExtra\"\r\n\t\t\t\t@onStoreOrderby=\"onStoreOrderby\"\r\n\t\t\t\t@onGetStore=\"onGetStore\"\r\n\t\t\t\t@onCloseRedpacket=\"onCloseRedpacket\">\r\n\t\t\t</diy>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport {mapState, mapMutations} from 'vuex'\r\n\timport PublicFooter from '@/components/footer'\r\n\timport PublicHeader from '@/components/header'\r\n\timport diy from '@/components/diy'\r\n\timport OrderStatusWarpper from '@/components/orderStatusWarpper'\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tgetLocationFail: false,\r\n\t\t\t\tshowPreLoading: true,\r\n\t\t\t\tis_use_diy: 0,\r\n\t\t\t\tdiydata:{\r\n\t\t\t\t\tdiy: {\r\n\t\t\t\t\t\tdata: {}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstoreExtra: {\r\n\t\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\t\tfilter: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstores: {\r\n\t\t\t\t\t\tloading: true,\r\n\t\t\t\t\t\tfinished: false,\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 5,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: 0,\r\n\t\t\t\t\t\tdata: [],\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpopup: {\r\n\t\t\t\t\t\tstoreSearch: false\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuperRedpacketData: {},\r\n\t\t\t\t\tconfig: {},\r\n\t\t\t\t},\r\n\t\t\t\tmenufooter: this.util.getStorage('menufooter'),\r\n\t\t\t\torder_remind: {},\r\n\t\t\t\tshowFixedSearchBar: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tPublicHeader,\r\n\t\t\tPublicFooter,\r\n\t\t\tdiy,\r\n\t\t\tOrderStatusWarpper,\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t...mapMutations([\r\n\t\t\t\t'setLocation', 'getLocation'\r\n\t\t\t]),\r\n\r\n\t\t\tonToggleDiscount(key, diyindex) {\r\n\t\t\t\tvar diyitem = this.diydata.diy.data.items[diyindex];\r\n\t\t\t\tif(diyitem.id == 'waimai_stores') {\r\n\t\t\t\t\tthis.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'] = !this.diydata.diy.data.items[diyindex].data[key]['activity']['is_show_all'];\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.stores.data[key]['activity']['is_show_all'] = !this.diydata.stores.data[key]['activity']['is_show_all'];\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonCloseRedpacket() {\r\n\t\t\t\tthis.diydata.superRedpacketData.is_show = false;\r\n\t\t\t\tthis.diydata.superRedpacketData = Object.assign({}, this.diydata.superRedpacketData);\r\n\t\t\t},\r\n\r\n\t\t\tonChangeStoreExtra(key) {\r\n\t\t\t\tif(key == 'multiple') {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = true;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = true;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = true;\r\n\t\t\t},\r\n\r\n\t\t\tonStoreOrderby(type, value, title) {\r\n\t\t\t\tif(type == 'order') {\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.order = value;\r\n\t\t\t\t\tthis.diydata.storeExtra.multiple = false;\r\n\t\t\t\t\tif(value != 'sailed' && value != 'distance') {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = title;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t\t}\r\n\t\t\t\t} else if(type == 'discounts') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.dis == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = value;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if(type == 'mode') {\r\n\t\t\t\t\tif(this.diydata.storeExtra.condition.mode == value) {\r\n\t\t\t\t\t\tvalue = '';\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = value;\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t} else if(type == 'clear') {\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.dis = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.order = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.condition.mode = '';\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t\tthis.diydata.storeExtra.filter_title = '综合排序';\r\n\t\t\t\t} else if(type == 'finish') {\r\n\t\t\t\t\tthis.diydata.storeExtra.filter = false;\r\n\t\t\t\t}\r\n\t\t\t\tthis.diydata.popup.storeSearch = false;\r\n\t\t\t\tthis.onGetStore(true);\r\n\t\t\t},\r\n\r\n\t\t\tonGetStore(force) {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tif(force) {\r\n\t\t\t\t\tthat.diydata.stores = {\r\n\t\t\t\t\t\tpage: 1,\r\n\t\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\t\tempty: false,\r\n\t\t\t\t\t\tloading: true\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t\tthat.diydata.stores.loading = true;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/home/index/store',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: that.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: that.locationInfo.location_y,\r\n\t\t\t\t\t\tpage: that.diydata.stores.page,\r\n\t\t\t\t\t\tpsize: that.diydata.stores.psize,\r\n\t\t\t\t\t\tcondition: JSON.stringify(that.diydata.storeExtra.condition),\r\n\t\t\t\t\t},\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message.message;\r\n\t\t\t\t\tif(force) {\r\n\t\t\t\t\t\tthat.diydata.stores.data = [];\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.data = [...this.diydata.stores.data, ...result.stores];\r\n\t\t\t\t\tif(result.pagetotal <= that.diydata.stores.page) {\r\n\t\t\t\t\t\tthat.diydata.stores.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.stores.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.stores.empty = true;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthat.diydata.stores.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.loading = false;\r\n\t\t\t\t\tthat.diydata.stores.page++;\r\n\t\t\t\t\tif(!that.diydata.stores.loaded && !result.stores.length) {\r\n\t\t\t\t\t\tthis.onGetStore();\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonLoad() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/home/index/index',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tlat: this.locationInfo.location_x,\r\n\t\t\t\t\t\tlng: this.locationInfo.location_y,\r\n\t\t\t\t\t\tmenufooter: 1,\r\n\t\t\t\t\t\torder_remind: 1,\r\n\t\t\t\t\t}\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tthat.showPreLoading = false;\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.config = result.message.config;\r\n\t\t\t\t\tthat.diydata.diy = result.message.diy;\r\n\t\t\t\t\tthat.diy = result.message.diy;\r\n\t\t\t\t\tthat.util.setWXTitle(that.diydata.config.title);\r\n\t\t\t\t\tthat.diydata.superRedpacketData = result.message.superRedpacketData;\r\n\t\t\t\t\tthat.diydata.superRedpacketData.is_show = true;\r\n\r\n\t\t\t\t\tthat.diydata.stores.data = [...this.diydata.stores.data, ...result.message.stores.stores];\r\n\t\t\t\t\tif(result.message.stores.pagetotal <= that.diydata.stores.page) {\r\n\t\t\t\t\t\tthat.diydata.stores.loaded = 1;\r\n\t\t\t\t\t\tif(!that.diydata.stores.data.length) {\r\n\t\t\t\t\t\t\tthat.diydata.stores.empty = true;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthat.diydata.stores.finished = true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.stores.loading = false;\r\n\t\t\t\t\tthat.diydata.stores.page++;\r\n\t\t\t\t\tif(!that.diydata.stores.loaded && !result.message.stores.length) {\r\n\t\t\t\t\t\tthat.onGetStore();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t\tthat.menufooter = window.menufooter;\r\n\t\t\t\t\tthat.order_remind = window.order;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\tonInit() {\r\n\t\t\t\tvar that = this;\r\n\t\t\t\tthis.getLocation();\r\n\t\t\t\tif(!this.locationInfo.location_x) {\r\n\t\t\t\t\tthis.util.getLocation({\r\n\t\t\t\t\t\tsuccessLocation: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccessAddress:  function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlocation_x: res.location_x,\r\n\t\t\t\t\t\t\t\tlocation_y: res.location_y,\r\n\t\t\t\t\t\t\t\taddress: res.address\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tfail: function(res) {\r\n\t\t\t\t\t\t\tthat.setLocation({\r\n\t\t\t\t\t\t\t\tlast_location_x: 0,\r\n\t\t\t\t\t\t\t\tlocation_x: 0,\r\n\t\t\t\t\t\t\t\taddress: '获取定位失败'\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\tthat.getLocationFail = true;\r\n\t\t\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.getLocationFail = false;\r\n\t\t\t\t\tthat.locationInfo.last_location_x = this.locationInfo.location_x;\r\n\t\t\t\t\tthat.onLoad();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tonGetCartNums() {\r\n\t\t\t\tthis.util.request({\r\n\t\t\t\t\turl: 'wmall/home/index/cart',\r\n\t\t\t\t}).then((res) => {\r\n\t\t\t\t\tlet result = res.data.message;\r\n\t\t\t\t\tif(result.errno) {\r\n\t\t\t\t\t\tthis.util.$toast(result.message);\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis.diydata.cart_sum = result.message.cart_sum;\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\r\n\t\tcreated() {\r\n\t\t},\r\n\r\n\t\tactivated() {\r\n\t\t\tif(this.locationInfo.last_location_x != this.locationInfo.location_x) {\r\n\t\t\t\tthis.diydata.stores = {\r\n\t\t\t\t\tpage: 1,\r\n\t\t\t\t\tpsize: 20,\r\n\t\t\t\t\tloaded: 0,\r\n\t\t\t\t\tempty: false,\r\n\t\t\t\t\tloading: false,\r\n\t\t\t\t\tdata: []\r\n\t\t\t\t};\r\n\t\t\t\tthis.diydata.storeExtra = {\r\n\t\t\t\t\tcondition: {\r\n\t\t\t\t\t\torder: '',\r\n\t\t\t\t\t\tmode: '',\r\n\t\t\t\t\t\tdis: ''\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfilter_title: '综合排序',\r\n\t\t\t\t\tmultiple: false,\r\n\t\t\t\t\tfilter: false\r\n\t\t\t\t};\r\n\t\t\t\tthis.onInit();\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tthis.onGetCartNums();\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t...mapState([\r\n\t\t\t\t'locationInfo'\r\n\t\t\t]),\r\n\t\t},\r\n\t\tmounted () {\r\n\t\t\tvar that = this;\r\n\t\t\tthat.onInit();\r\n\t\t\twindow.addEventListener('scroll', function() {\r\n\t\t\t\tvar scrollTop = window.pageYOffset || document.documentElement.scrollTop || document.body.scrollTop;\r\n\t\t\t\tif(scrollTop > 100) {\r\n\t\t\t\t\tthat.showFixedSearchBar = true;\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthat.showFixedSearchBar = false;\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t},\r\n\t}\r\n</script>\r\n<style>\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/pages/home/home.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"home\"}},[_c('div',{attrs:{\"id\":\"allmap\"}}),_vm._v(\" \"),(_vm.order_remind && _vm.order_remind.log)?_c('order-status-warpper',{attrs:{\"order\":_vm.order_remind}}):_vm._e(),_vm._v(\" \"),_c('public-footer',{attrs:{\"menufooter\":_vm.menufooter}}),_vm._v(\" \"),_c('div',{staticClass:\"container\"},[_c('diy',{attrs:{\"diydata\":_vm.diydata,\"preLoading\":_vm.showPreLoading,\"getLocationFail\":_vm.getLocationFail,\"showFixedSearchBar\":_vm.showFixedSearchBar},on:{\"onToggleDiscount\":_vm.onToggleDiscount,\"onChangeStoreExtra\":_vm.onChangeStoreExtra,\"onStoreOrderby\":_vm.onStoreOrderby,\"onGetStore\":_vm.onGetStore,\"onCloseRedpacket\":_vm.onCloseRedpacket}})],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-92c5bcb8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/pages/home/home.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-92c5bcb8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./home.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./home.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-92c5bcb8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./home.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/pages/home/home.vue\n// module id = null\n// module chunks = ","<template>\r\n\t<div id=\"order-status-warpper\">\r\n\t\t<div class=\"order-status-warpper\" :class=\"{active: active}\" @click=\"onChangeActive\">\r\n\t\t\t<img :src=\"order.logo\" alt=\"\">\r\n\t\t\t<div class=\"text\">\r\n\t\t\t\t<div class=\"order-status\" v-if=\"order.log && order.log.title\">{{order.log.title}}</div>\r\n\t\t\t\t<div class=\"time\">请耐心等待</div>\r\n\t\t\t</div>\r\n\t\t\t<span class=\"order-status-close\">&times;</span>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\n\texport default {\r\n\t\tprops:{\r\n\t\t\torder: {\r\n\t\t\t\ttype: Object,\r\n\t\t\t\tdefault: () => {\r\n\t\t\t\t\treturn {\r\n\t\t\t\t\t\torder: {\r\n\t\t\t\t\t\t\tlog: {\r\n\t\t\t\t\t\t\t\ttitle: ''\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t};\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactive: false\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonChangeActive() {\r\n\t\t\t\tthis.active = !this.active;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t#order-status-warpper .order-status-warpper{\r\n\t\twidth: 180px;\r\n\t\ttransition: width 1s;\r\n\t\tdisplay: flex;\r\n\t\theight: 50px;\r\n\t\tborder-radius: 50px;\r\n\t\tposition: fixed;\r\n\t\tbottom: 60px;\r\n\t\tright: 20px;\r\n\t\tz-index: 10000;\r\n\t\tpadding: 3px;\r\n\t\t-webkit-box-align: center;\r\n\t\t-webkit-align-items: center;\r\n\t\t-ms-flex-align: center;\r\n\t\talign-items: center;\r\n\t\tcolor: #fff;\r\n\t\toverflow: hidden;\r\n\t\tbackground-color: #ff2d4b;\r\n\t}\r\n\t#order-status-warpper .order-status-warpper.active{\r\n\t\twidth: 48px;\r\n\t}\r\n\t#order-status-warpper .order-status-warpper img{\r\n\t\tborder-radius: 100%;\r\n\t\theight: 44px;\r\n\t\twidth: 44px;\r\n\t\tborder: none;\r\n\t\tmax-width: 100%;\r\n\t}\r\n\t#order-status-warpper .order-status-warpper .text{\r\n\t\twhite-space: nowrap;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\tmargin: 0 0 0 7px;\r\n\t\tmax-width: 140px;\r\n\t\tfont-size: 14px;\r\n\t}\r\n\t#order-status-warpper .order-status-warpper .text .order-status{\r\n\t\tline-height: 21px;\r\n\t}\r\n\t#order-status-warpper .order-status-warpper .text .time{\r\n\t\tfont-size: 12px;\r\n\t\tline-height: 18px;\r\n\t}\r\n\t#order-status-warpper .order-status-warpper .order-status-close{\r\n\t\tfont-size: 20px;\r\n\t\tmargin: 0 4px 0 4px;\r\n\t}\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/orderStatusWarpper.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"order-status-warpper\"}},[_c('div',{staticClass:\"order-status-warpper\",class:{active: _vm.active},on:{\"click\":_vm.onChangeActive}},[_c('img',{attrs:{\"src\":_vm.order.logo,\"alt\":\"\"}}),_vm._v(\" \"),_c('div',{staticClass:\"text\"},[(_vm.order.log && _vm.order.log.title)?_c('div',{staticClass:\"order-status\"},[_vm._v(_vm._s(_vm.order.log.title))]):_vm._e(),_vm._v(\" \"),_c('div',{staticClass:\"time\"},[_vm._v(\"请耐心等待\")])]),_vm._v(\" \"),_c('span',{staticClass:\"order-status-close\"},[_vm._v(\"×\")])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-ed7bb3a6\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/orderStatusWarpper.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-ed7bb3a6\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./orderStatusWarpper.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderStatusWarpper.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./orderStatusWarpper.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-ed7bb3a6\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./orderStatusWarpper.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/orderStatusWarpper.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
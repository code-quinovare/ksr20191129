webpackJsonp([18],{GXhf:function(t,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=a("Gu7T"),i=a.n(e),r=a("Dd8w"),n=a.n(r),l=a("NYxO"),d={data:function(){return{preLoading:!0,list:[],available:[],dis_available:[]}},components:{PublicHeader:a("Cz8s").a},methods:n()({},Object(l.b)(["setOrderExtra","setState"]),{onLoad:function(){var t=this;this.util.request({url:"wmall/member/address",data:{sid:this.sid}}).then(function(s){t.preLoading=!1;var a=s.data.message;a.errno||(t.sid>0?(t.available=[].concat(i()(t.available),i()(a.message.available)),t.dis_available=[].concat(i()(t.dis_available),i()(a.message.dis_available))):t.list=[].concat(i()(t.list),i()(a.message)))})},onSelectAddress:function(t){return"errander"==this.channel?("accept"==this.input?this.setState({type:"erranderExtra",key:"acceptaddress_id",val:t.id}):"buy"==this.input&&this.setState({type:"erranderExtra",key:"buyaddress_id",val:t.id}),this.$router.push(this.util.getUrl({path:"/pages/paotui/diy",query:{id:this.erranderId}})),!1):!!this.sid&&(t.available?(this.setOrderExtra({key:"address_id",val:t.id}),void this.$router.push(this.util.getUrl({path:"/pages/order/create",query:{sid:this.sid}}))):(this.$toast("该地址不在商家配送范围内"),!1))}}),computed:n()({},Object(l.c)(["orderExtra","erranderExtra"])),created:function(){this.query=this.$route.query,this.query&&(this.sid=this.query.sid,this.channel=this.query.channel,this.input=this.query.input,this.erranderId=this.query.erranderId)},mounted:function(){this.onLoad()}},o={render:function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{attrs:{id:"address"}},[a("public-header",{attrs:{title:"我的地址"}}),t._v(" "),t.sid>0&&(t.available.length>0||t.dis_available.length>0)||!t.sid&&t.list.length>0?[t.sid>0?[a("div",{staticClass:"list"},[t.available.length>0?[a("div",{staticClass:"block-title"},[t._v("可选收货地址")]),t._v(" "),a("div",{staticClass:"list-container van-hairline--bottom"},t._l(t.available,function(s,e){return a("div",{staticClass:"item  flex-lr",class:{"van-hairline--bottom":e<t.available.length-1}},[a("div",{staticClass:"item-content",on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.onSelectAddress(s)}}},[a("div",{staticClass:"user"},[a("span",[t._v(t._s(s.realname))]),t._v(" "),a("span",[t._v(t._s(s.sex))]),t._v(" "),a("span",[t._v(t._s(s.mobile))])]),t._v(" "),a("div",{staticClass:"address"},[t._v(t._s(s.address))])]),t._v(" "),a("router-link",{attrs:{to:t.util.getUrl({path:"/pages/member/addressPost",query:{id:s.id,sid:t.sid}})}},[a("van-icon",{attrs:{name:"edit"}})],1)],1)}))]:t._e(),t._v(" "),t.dis_available.length>0?[a("div",{staticClass:"block-title"},[t._v("不在配送范围内或地址不完善")]),t._v(" "),a("div",{staticClass:"list-container van-hairline--bottom"},t._l(t.dis_available,function(s,e){return a("div",{staticClass:"item  flex-lr c-disabled",class:{"van-hairline--bottom":e<t.dis_available.length-1}},[a("div",{staticClass:"item-content ",on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.onSelectAddress(s)}}},[a("div",{staticClass:"user"},[a("span",[t._v(t._s(s.realname))]),t._v(" "),a("span",[t._v(t._s(s.sex))]),t._v(" "),a("span",[t._v(t._s(s.mobile))])]),t._v(" "),a("div",{staticClass:"address c-disabled"},[t._v(t._s(s.address))])]),t._v(" "),a("router-link",{attrs:{to:t.util.getUrl({path:"/pages/member/addressPost",query:{id:s.id,sid:t.sid}})}},[a("van-icon",{attrs:{name:"edit"}})],1)],1)}))]:t._e()],2)]:[a("div",{staticClass:"list"},[a("div",{staticClass:"list-container van-hairline--bottom"},t._l(t.list,function(s,e){return a("div",{staticClass:"item  flex-lr",class:{"van-hairline--bottom":e<t.list.length-1}},[a("div",{staticClass:"item-content",on:{click:function(a){a.preventDefault(),a.stopPropagation(),t.onSelectAddress(s)}}},[a("div",{staticClass:"user"},[a("span",[t._v(t._s(s.realname))]),t._v(" "),a("span",[t._v(t._s(s.sex))]),t._v(" "),a("span",[t._v(t._s(s.mobile))])]),t._v(" "),a("div",{staticClass:"address"},[t._v(t._s(s.address))])]),t._v(" "),a("router-link",{attrs:{to:t.util.getUrl({path:"/pages/member/addressPost",query:{id:s.id,sid:t.sid}})}},[a("van-icon",{attrs:{name:"edit"}})],1)],1)}))])]]:a("div",{staticClass:"nodata"},[a("img",{staticClass:"no-coupon",attrs:{src:"static/img/coupon_no_con.png",alt:""}}),t._v(" "),a("span",{staticClass:"no-record"},[t._v("您还没有收货地址")])]),t._v(" "),a("router-link",{staticClass:"add",attrs:{tag:"div",to:t.util.getUrl({path:"/pages/member/addressPost",query:{id:0,sid:t.sid}})}},[a("van-cell",{staticClass:"border-1px-t",attrs:{title:"新增收货地址",icon:"add","is-link":""}})],1),t._v(" "),a("transition",{attrs:{name:"loading"}},[t.preLoading?a("iloading"):t._e()],1)],2)},staticRenderFns:[]};var c=a("VU/8")(d,o,!1,function(t){a("hzwy")},null,null);s.default=c.exports},hzwy:function(t,s){}});
//# sourceMappingURL=18.a040c174da46ef394fd6.js.map